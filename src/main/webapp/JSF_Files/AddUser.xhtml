<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Bus Booking System</title>
<ui:include src="./WebHeader.xhtml"/>
<link rel="stylesheet" href="../Css/FormDetail.css"/> 
<script src="../js/jquery-3.5.1.js"></script>
<script src="../js/bootstrap.js"></script>
<script>
  function validateEmail(form)
  {
      var idstr=form["formname:emailaddress"].value;
      var mail = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
       if(idstr.match(mail))
       {
            return true;
              }
            else
              {
              alert("Invalid Mail..");
              form["formname:emailaddress"].value=" ";
              return false;
              }

  }


  function validatephn(form)
  {
	  
      var idstr=form["formname:contactno"].value;
      var mail = /\(?([0-9]{3})\)?([ .-]?)([0-9]{3})\2([0-9]{4})/;
       if(idstr.match(mail))
       {
            return true;
              }
            else
              {
              alert("Invalid Phone No..");
              form["formname:contactno"].value=" ";
              return false;
              }

  }
</script>
<style>



h2{
font-size: medium;
margin-right:25ex;


}
#details{
 font-weight: bold;

}
</style>


</head>
<h:body>
<h1 class="text text-center text-justify">Create New Account</h1>
<div class="container-fluid">
<div class="row">
	<div class="col-6">
<h:form class="text text-center" id="formname">
    <div class="row">
		<div class="col-30">
		<label for="fname" id="details">Full Name :</label>
		</div>	
			<h:inputText value="#{user.fullname}" id="fullname" required="true"
      		requiredMessage="Name is Mandatory" /><br/><br/>

		</div>
		<h2><h:message for="fullname" style="color :red;"/></h2>

       <div class="row">
			<div class="col-30">
				<label for="fname" id="details">Contact No :</label>
			</div>
			<h:inputText value="#{user.contactno}" id="contactno" onblur="validatephn(this.form)" 
      			validator="#{jsfUserDAO.validatePhnNo}" required="true" requiredMessage="Contact Number is Mandatory" /> <br/><br/>
		</div>
		<h2><h:message for="contactno" style="color : red;"/></h2>
		
  	    <div class="row">
			<div class="col-30">
				<label for="fname" id="details">Email :</label>
			</div>
			<h:inputText value="#{user.emailaddress}" id="emailaddress" name="emailaddress"
     			 validator="#{jsfUserDAO.validateEmail}" required="true" requiredMessage="Email is Mandatory"
     			 onblur="validateEmail(this.form)"/><br/><br/>
			</div>
			<h2><h:message for="emailaddress" style="color : red;"/></h2>
			
     		<div class="row">
			  <div class="col-30">
				<label for="fname" id="details">User ID :</label>
			</div>
			<h:inputText value="#{user.username}" id="username" required="true" 
    			 requiredMessage="User ID is Mandatory"/><br/><br/>
    		</div>
			<h2><h:message for="error" id="error" style="color : red;"/></h2>
    		 <div class="row">
			  <div class="col-30">
				<label for="fname" id="details">Password :</label>
			</div>
			<h:inputSecret value="#{user.password}" id="password" 
    			 validator="#{jsfUserDAO.validatePassword}" required="true" requiredMessage="Password is Mandatory"/><br/><br/>
    		</div>
<h2><h:message for="password" style="color : red;"/></h2>
<h:commandButton value="Save" class="btn btn-primary" action="#{jsfUserDAO.Adduser(user)}" />

</h:form>
</div>
		<div class="col-5">
		<script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
		<img src="../image/busgif.gif" id="gg" alt="Italian Trulli"/>			
		</div>	

</div>
</div>
</h:body>
</html>